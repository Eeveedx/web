var _0x185f2b = _0x3bb1; (function (_0x565001, _0x41c6c6) { var _0x3d7c4e = _0x3bb1, _0x3f65cb = _0x565001(); while (!![]) { try { var _0x537335 = -parseInt(_0x3d7c4e(0x113)) / 0x1 + -parseInt(_0x3d7c4e(0x143)) / 0x2 + parseInt(_0x3d7c4e(0x180)) / 0x3 + -parseInt(_0x3d7c4e(0x179)) / 0x4 * (parseInt(_0x3d7c4e(0x16f)) / 0x5) + parseInt(_0x3d7c4e(0x13f)) / 0x6 + -parseInt(_0x3d7c4e(0xff)) / 0x7 + -parseInt(_0x3d7c4e(0x17b)) / 0x8 * (-parseInt(_0x3d7c4e(0x11e)) / 0x9); if (_0x537335 === _0x41c6c6) break; else _0x3f65cb['push'](_0x3f65cb['shift']()); } catch (_0x2da441) { _0x3f65cb['push'](_0x3f65cb['shift']()); } } }(_0x2faf, 0xc9520)); import *as _0x5a1c76 from './build/three.module.js'; import _0x1b29d9 from './js/stats.module.js'; import { OrbitControls } from './js/OrbitControls.js'; import { GLTFLoader } from './js/GLTFLoader.js'; import { DRACOLoader } from './js/DRACOLoader.js'; import { GUI } from './js/lil-gui.module.min.js'; import { Reflector } from './js/Reflector.js'; import { TWEEN } from './js/tween.module.min.js'; let camera, scene, renderer, stats, model, controls, path = _0x185f2b(0x14d), gui, guiExposure = null; const settings = { '亮度': 0x0, 'envMapIntensity': 0x1, 'metalness': 0x1, 'roughness': 0x1, 'lightMapIntensity': 0x1 }, params = { 'exposure': 0x1, 'toneMapping': _0x185f2b(0x1aa) }, toneMappingOptions = { 'None': _0x5a1c76['NoToneMapping'], 'Linear': _0x5a1c76['LinearToneMapping'], 'Reinhard': _0x5a1c76['ReinhardToneMapping'], 'Cineon': _0x5a1c76[_0x185f2b(0x131)], 'ACESFilmic': _0x5a1c76['ACESFilmicToneMapping'], 'Custom': _0x5a1c76[_0x185f2b(0x19f)] }; let enva, envb, envc, envd, enve, groundReflector, loadingt, process, video, AREA, roof; var plane, textureEquirec; fixiosTextureBlack(); function fixiosTextureBlack() { var _0x2c43f0 = _0x185f2b; const _0x227a0d = /^(iPad|iPhone|iPod)/[_0x2c43f0(0x110)](window[_0x2c43f0(0x188)][_0x2c43f0(0x195)]) || /^Mac/[_0x2c43f0(0x110)](window[_0x2c43f0(0x188)][_0x2c43f0(0x195)]) && window['navigator']['maxTouchPoints'] > 0x1; _0x227a0d && (window[_0x2c43f0(0x18a)] = undefined); } init(); function init() { var _0x54bce7 = _0x185f2b; window['navigator'][_0x54bce7(0x160)][_0x54bce7(0x15d)](/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i) ? path = _0x54bce7(0x1a3) : path = '/PC'; const _0x369d11 = document['getElementById']('container'); loadingt = document[_0x54bce7(0x18f)](_0x54bce7(0x11d)), renderer = new _0x5a1c76['WebGLRenderer']({ 'antialias': !![] }), renderer[_0x54bce7(0x145)](window[_0x54bce7(0x10f)]), renderer['setSize'](window['innerWidth'], window['innerHeight']), renderer[_0x54bce7(0x165)](render), renderer[_0x54bce7(0x187)] = _0x5a1c76[_0x54bce7(0x14e)], renderer[_0x54bce7(0x111)][_0x54bce7(0x13c)] = ![], _0x369d11[_0x54bce7(0x194)](renderer['domElement']), window['addEventListener']('resize', onWindowResize), stats = new _0x1b29d9(), camera = new _0x5a1c76[(_0x54bce7(0x152))](0x3c, window[_0x54bce7(0x11b)] / window[_0x54bce7(0x134)], 0.01, 0x64), camera[_0x54bce7(0x171)]['set'](0x0, 0x0, 0x0), camera[_0x54bce7(0x181)][_0x54bce7(0x133)](0x0, 0x50, -0x28), scene = new _0x5a1c76['Scene'](), controls = new OrbitControls(camera, renderer[_0x54bce7(0x177)]), controls['target'][_0x54bce7(0x133)](-1.4, 0x0, -0.4), controls[_0x54bce7(0x116)] = !![], controls[_0x54bce7(0x13d)] = Math['PI'] * 0.49, controls['minDistance'] = 0.1, controls[_0x54bce7(0x184)] = 0x8, controls[_0x54bce7(0x13a)](); var _0x5c17b6 = new _0x5a1c76[(_0x54bce7(0x12f))](0x190, 0x190); plane = new _0x5a1c76['Mesh'](_0x5c17b6, new _0x5a1c76[(_0x54bce7(0x157))]()), plane[_0x54bce7(0x181)]['set'](0x0, -0.003, 0x0), plane[_0x54bce7(0x171)]['x'] = Math['PI'] * -0.5, plane[_0x54bce7(0x170)][_0x54bce7(0x190)][_0x54bce7(0x133)](0xe2e2e2), plane[_0x54bce7(0x125)] = !![], scene[_0x54bce7(0x193)] = new _0x5a1c76[(_0x54bce7(0x19b))](0xececec), scene[_0x54bce7(0x121)] = new _0x5a1c76['Fog'](0xececec, 0x10, 0x28), scene['add'](plane); let _0xb14a7d = new _0x5a1c76[(_0x54bce7(0x120))](); const _0x34c488 = new _0x5a1c76[(_0x54bce7(0x120))](); textureEquirec = _0x34c488[_0x54bce7(0x17d)](_0x54bce7(0x172) + path + _0x54bce7(0x13e)), textureEquirec['mapping'] = _0x5a1c76[_0x54bce7(0x17e)], textureEquirec['encoding'] = _0x5a1c76[_0x54bce7(0x14e)], _0xb14a7d['load'](_0x54bce7(0x172) + path + _0x54bce7(0x18c), function (_0x53deca) { _0x53deca['mapping'] = _0x5a1c76['EquirectangularReflectionMapping'], enva = _0x53deca; }), _0xb14a7d[_0x54bce7(0x17d)](_0x54bce7(0x172) + path + '/b_hdr.jpg', function (_0x59d6d4) { var _0x296401 = _0x54bce7; _0x59d6d4[_0x296401(0x12d)] = _0x5a1c76[_0x296401(0x17e)], envb = _0x59d6d4; }), _0xb14a7d[_0x54bce7(0x17d)](_0x54bce7(0x172) + path + _0x54bce7(0x103), function (_0x4cd22b) { var _0x53baef = _0x54bce7; _0x4cd22b[_0x53baef(0x12d)] = _0x5a1c76['EquirectangularReflectionMapping'], envc = _0x4cd22b; }), _0xb14a7d['load'](_0x54bce7(0x172) + path + _0x54bce7(0x182), function (_0x4d4b80) { var _0x220c1e = _0x54bce7; _0x4d4b80[_0x220c1e(0x12d)] = _0x5a1c76[_0x220c1e(0x17e)], envd = _0x4d4b80; }), _0xb14a7d[_0x54bce7(0x17d)](_0x54bce7(0x172) + path + _0x54bce7(0x156), function (_0x196629) { var _0x2a7430 = _0x54bce7; _0x196629[_0x2a7430(0x12d)] = _0x5a1c76[_0x2a7430(0x17e)], enve = _0x196629; }), scene[_0x54bce7(0x193)] = new _0x5a1c76[(_0x54bce7(0x19b))](0xececec), scene[_0x54bce7(0x121)] = new _0x5a1c76[(_0x54bce7(0x104))](0xececec, 0xa, 0x14), video = document[_0x54bce7(0x18f)](_0x54bce7(0x135)); const _0xa615cd = new _0x5a1c76[(_0x54bce7(0x14a))](video), _0x39eda0 = new _0x5a1c76[(_0x54bce7(0x105))]({ 'map': _0xa615cd, 'side': _0x5a1c76[_0x54bce7(0x13b)], 'toneMapped': ![] }), _0x27f31e = new _0x5a1c76[(_0x54bce7(0x12f))](0.788, 0.474), _0x52d444 = new _0x5a1c76[(_0x54bce7(0x18b))](_0x27f31e, _0x39eda0); scene['add'](_0x52d444), _0x52d444[_0x54bce7(0x119)](Math['PI'] * 0.5), _0x52d444['position'][_0x54bce7(0x133)](-0.578, 0.56, -1.9), video['play'](), document[_0x54bce7(0x18f)](_0x54bce7(0x127))[_0x54bce7(0x173)] = _0x54bce7(0x132); const _0x1e7884 = new DRACOLoader(); _0x1e7884[_0x54bce7(0x199)](_0x54bce7(0x17f)); const _0x2df59e = new GLTFLoader(); _0x2df59e[_0x54bce7(0xfe)](_0x1e7884), _0x2df59e[_0x54bce7(0x17d)](_0x54bce7(0x172) + path + '/house_other.glb', function (_0x19a8a6) { var _0x1027e6 = _0x54bce7; model = _0x19a8a6['scene'], model['traverse'](function (_0x4198f2) { fixMaterial(_0x4198f2); }), model[_0x1027e6(0x181)]['set'](-0.8, 0.01, -0.7), model[_0x1027e6(0x14c)][_0x1027e6(0x133)](0.1, 0.1, 0.1), scene[_0x1027e6(0x122)](model); }), _0x2df59e[_0x54bce7(0x17d)](_0x54bce7(0x172) + path + '/house.glb', function (_0x1e1fc3) { var _0x1c40b9 = _0x54bce7; path == 'PH' && (document[_0x1c40b9(0x18f)](_0x1c40b9(0x127))[_0x1c40b9(0x173)] = _0x1c40b9(0x18d)); model = _0x1e1fc3[_0x1c40b9(0x124)], model[_0x1c40b9(0x146)](function (_0x473ea8) { var _0x3087b7 = _0x1c40b9; fixMaterial(_0x473ea8), _0x473ea8[_0x3087b7(0x164)] == 'TOP_GROUP' && (roof = _0x473ea8, roof[_0x3087b7(0x14c)]['set'](0x0, 0x0, 0x0)); }), model[_0x1c40b9(0x181)][_0x1c40b9(0x133)](-0.8, 0.01, -0.7), model['scale'][_0x1c40b9(0x133)](0.1, 0.1, 0.1), scene[_0x1c40b9(0x122)](model), groundReflector = new _0x5a1c76[(_0x1c40b9(0x16c))](), scene[_0x1c40b9(0x122)](groundReflector); let _0x18f08e = new Reflector(AREA, { 'textureWidth': 0x400, 'textureHeight': 0x400, 'color': 0xffffff, 'alpha': 0.08 }); _0x18f08e[_0x1c40b9(0x14c)][_0x1c40b9(0x133)](0.1, 0.1, 0.1), _0x18f08e[_0x1c40b9(0x181)]['y'] = 0.011, _0x18f08e[_0x1c40b9(0x181)]['x'] = -0.8, _0x18f08e[_0x1c40b9(0x181)]['z'] = -0.702, _0x18f08e[_0x1c40b9(0x101)](-Math['PI'] / 0x2), groundReflector[_0x1c40b9(0x122)](_0x18f08e), _0x369d11[_0x1c40b9(0x173)] = _0x1c40b9(0x1a1), document['getElementById'](_0x1c40b9(0x142))[_0x1c40b9(0x173)] = 'visibility:hidden;', document[_0x1c40b9(0x18f)](_0x1c40b9(0x127))[_0x1c40b9(0x173)] = _0x1c40b9(0x132), setTimeout(() => { var _0x5f1bf4 = _0x1c40b9; animateCamera(new _0x5a1c76[(_0x5f1bf4(0x140))](5.3, 8.7, 5.8), new _0x5a1c76[(_0x5f1bf4(0x140))](-1.4, 0x0, -0.4), 0xbb8); }, 0x7d0); }, function (_0xada6a8) { var _0x338b01 = _0x54bce7; document[_0x338b01(0x18f)](_0x338b01(0x142))[_0x338b01(0x173)] = 'visibility:visible;', document[_0x338b01(0x18f)](_0x338b01(0x127))[_0x338b01(0x173)] = _0x338b01(0x137), process = Math[_0x338b01(0x198)](_0xada6a8[_0x338b01(0x123)] / _0xada6a8[_0x338b01(0x114)] * 0x64), loadingt['innerHTML'] = 'Loading...' + process + '%', console[_0x338b01(0x11f)](process); }, function (_0x2e4dbb) { var _0x4be4b9 = _0x54bce7; console[_0x4be4b9(0x19a)](_0x2e4dbb); }), renderer['toneMapping'] = _0x5a1c76[_0x54bce7(0x131)], renderer[_0x54bce7(0x112)] = 1.4, _0x5a1c76['ShaderChunk'][_0x54bce7(0x189)] = _0x5a1c76[_0x54bce7(0x10e)][_0x54bce7(0x189)][_0x54bce7(0x178)]('vec3\x20CustomToneMapping(\x20vec3\x20color\x20)\x20{\x20return\x20color;\x20}', '#define\x20Uncharted2Helper(\x20x\x20)\x20max(\x20(\x20(\x20x\x20*\x20(\x200.15\x20*\x20x\x20+\x200.10\x20*\x200.50\x20)\x20+\x200.20\x20*\x200.02\x20)\x20/\x20(\x20x\x20*\x20(\x200.15\x20*\x20x\x20+\x200.50\x20)\x20+\x200.20\x20*\x200.30\x20)\x20)\x20-\x200.02\x20/\x200.30,\x20vec3(\x200.0\x20)\x20)\x0a\x09\x09\x09\x09\x09float\x20toneMappingWhitePoint\x20=\x201.0;\x0a\x09\x09\x09\x09\x09vec3\x20CustomToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09\x09\x09\x09\x09\x09color\x20*=\x20toneMappingExposure;\x0a\x09\x09\x09\x09\x09\x09return\x20saturate(\x20Uncharted2Helper(\x20color\x20)\x20/\x20Uncharted2Helper(\x20vec3(\x20toneMappingWhitePoint\x20)\x20)\x20);\x0a\x09\x09\x09\x09\x09}'); } let isGotoOverAll = !![], isGotoInMove = ![], isInMoving = ![], isCameraMoving = ![], overAllBtn = document[_0x185f2b(0x18f)]('overAllBtn'); overAllBtn[_0x185f2b(0x158)] = function () { var _0x5f289e = _0x185f2b; !isCameraMoving && (isGotoOverAll = !![], isGotoInMove = ![], plane[_0x5f289e(0x196)] = !![], scene[_0x5f289e(0x193)] = new _0x5a1c76[(_0x5f289e(0x19b))](0xececec), scene[_0x5f289e(0x121)] = new _0x5a1c76[(_0x5f289e(0x104))](0xececec, 0xa, 0x14), roof && roof[_0x5f289e(0x14c)]['set'](0x0, 0x0, 0x0), controls[_0x5f289e(0x15f)]['x'] = -1.4, controls[_0x5f289e(0x15f)]['y'] = 0x0, controls[_0x5f289e(0x15f)]['z'] = -0.4, controls[_0x5f289e(0x13a)](), stopMovement(), isInMoving = ![], isClicked = ![], animateCamera(new _0x5a1c76['Vector3'](5.3, 8.7, 5.8), new _0x5a1c76[(_0x5f289e(0x140))](-1.4, 0x0, -0.4))); }; let inMoveBtn = document[_0x185f2b(0x18f)](_0x185f2b(0x186)); function _0x3bb1(_0x989a97, _0x3ff60a) { var _0x2faf91 = _0x2faf(); return _0x3bb1 = function (_0x3bb1ec, _0x45c7ef) { _0x3bb1ec = _0x3bb1ec - 0xfe; var _0x5d8e58 = _0x2faf91[_0x3bb1ec]; return _0x5d8e58; }, _0x3bb1(_0x989a97, _0x3ff60a); } inMoveBtn[_0x185f2b(0x158)] = function () { var _0x1760b8 = _0x185f2b; if (!isCameraMoving) { if (isGotoOverAll) animateCamera(new _0x5a1c76[(_0x1760b8(0x140))](-0.4, 0.7, 1.8), new _0x5a1c76[(_0x1760b8(0x140))](0x0, 0x0, 0x0), 0x0, 0x2); else animateCamera(new _0x5a1c76[(_0x1760b8(0x140))](-0.4, 0.7, 1.8), new _0x5a1c76['Vector3'](0x0, 0x0, 0x0), 0x0, 0x4); isGotoOverAll = ![], isGotoInMove = !![], stopMovement(); } }; function animateCamera(_0x19d7f4, _0x213a97, _0x3ff53a = 0x0, _0x496378 = 0x1) { var _0x5077c3 = _0x185f2b; isCameraMoving = !![]; if (_0x3ff53a == 0x0) _0x3ff53a = camera[_0x5077c3(0x181)][_0x5077c3(0x16e)](_0x19d7f4) * 0x64 * _0x496378; controls[_0x5077c3(0x13c)] = ![]; let _0x2e57a9 = new TWEEN[(_0x5077c3(0x155))]({ 'px': camera[_0x5077c3(0x181)]['x'], 'py': camera[_0x5077c3(0x181)]['y'], 'pz': camera['position']['z'], 'tx': controls['target']['x'], 'ty': controls[_0x5077c3(0x15f)]['y'], 'tz': controls[_0x5077c3(0x15f)]['z'] }); _0x2e57a9['to']({ 'px': _0x19d7f4['x'], 'py': _0x19d7f4['y'], 'pz': _0x19d7f4['z'], 'tx': _0x213a97['x'], 'ty': _0x213a97['y'], 'tz': _0x213a97['z'] }, _0x3ff53a), _0x2e57a9[_0x5077c3(0x1a0)](function (_0x663692) { var _0x1b4093 = _0x5077c3; camera['position']['x'] = _0x663692['px'], camera['position']['y'] = _0x663692['py'], camera[_0x1b4093(0x181)]['z'] = _0x663692['pz'], controls[_0x1b4093(0x15f)]['x'] = _0x663692['tx'], controls['target']['y'] = _0x663692['ty'], controls['target']['z'] = _0x663692['tz'], camera[_0x1b4093(0x1a7)](controls[_0x1b4093(0x15f)]), controls['update'](); }), _0x2e57a9[_0x5077c3(0x163)](), _0x2e57a9[_0x5077c3(0x17a)](function () { var _0x4b0eb0 = _0x5077c3; isCameraMoving = ![]; if (isGotoOverAll) controls[_0x4b0eb0(0x13c)] = !![], controls[_0x4b0eb0(0x13a)](); else isGotoInMove && (controls['enabled'] = ![], controls[_0x4b0eb0(0x13a)](), plane['visible'] = ![], scene[_0x4b0eb0(0x193)] = textureEquirec, scene[_0x4b0eb0(0x121)] = null, roof && roof[_0x4b0eb0(0x14c)][_0x4b0eb0(0x133)](0x1, 0x1, 0x1), isInMoving = !![]); }); } function fixMaterial(_0x3753dd) { var _0x214619 = _0x185f2b; if (_0x3753dd[_0x214619(0x108)]) { if (_0x3753dd[_0x214619(0x164)][_0x214619(0x148)](_0x214619(0x15b))) { const _0x24306f = new _0x5a1c76['MeshBasicMaterial']({ 'color': 0xffffff, 'map': _0x3753dd[_0x214619(0x170)][_0x214619(0x168)], 'envMap': _0x3753dd[_0x214619(0x170)]['normalMap'], 'reflectivity': 0.05 }); _0x3753dd['material'] = _0x24306f; } else { if (_0x3753dd[_0x214619(0x164)]['startsWith'](_0x214619(0x147))) { const _0x3c0c55 = new _0x5a1c76['MeshStandardMaterial']({ 'map': _0x3753dd[_0x214619(0x170)][_0x214619(0x15a)], 'emissiveMap': _0x3753dd[_0x214619(0x170)][_0x214619(0x168)], 'metalnessMap': _0x3753dd[_0x214619(0x170)][_0x214619(0x159)], 'roughnessMap': _0x3753dd[_0x214619(0x170)][_0x214619(0x1a6)], 'envMap': enva }); _0x3753dd[_0x214619(0x170)] = _0x3c0c55; } else { if (_0x3753dd[_0x214619(0x164)][_0x214619(0x148)](_0x214619(0x11a)) || _0x3753dd[_0x214619(0x164)]['startsWith']('AAA_WWW_model_refrigerator') || _0x3753dd[_0x214619(0x164)][_0x214619(0x148)](_0x214619(0x144)) || _0x3753dd['name'][_0x214619(0x148)]('AAA_metal_02')) { const _0x3c0100 = new _0x5a1c76[(_0x214619(0x176))]({ 'map': _0x3753dd[_0x214619(0x170)][_0x214619(0x15a)], 'emissiveMap': _0x3753dd[_0x214619(0x170)]['emissiveMap'], 'metalnessMap': _0x3753dd[_0x214619(0x170)][_0x214619(0x159)], 'roughnessMap': _0x3753dd['material'][_0x214619(0x1a6)], 'envMap': envd }); _0x3753dd[_0x214619(0x170)] = _0x3c0100; } else { if (_0x3753dd[_0x214619(0x164)][_0x214619(0x148)](_0x214619(0x100))) { const _0x330253 = new _0x5a1c76[(_0x214619(0x176))]({ 'map': _0x3753dd['material']['map'], 'emissiveMap': _0x3753dd[_0x214619(0x170)][_0x214619(0x168)], 'metalness': 0x1, 'roughness': 0x0, 'envMap': envc }); _0x3753dd[_0x214619(0x170)] = _0x330253; } else { if (_0x3753dd[_0x214619(0x164)][_0x214619(0x148)](_0x214619(0x161))) { const _0x4268b9 = new _0x5a1c76['MeshStandardMaterial']({ 'map': _0x3753dd[_0x214619(0x170)]['map'], 'emissiveMap': _0x3753dd['material'][_0x214619(0x168)], 'metalness': 0x1, 'roughness': 0x0, 'envMap': envb }); _0x3753dd[_0x214619(0x170)] = _0x4268b9; } else { if (_0x3753dd['name'][_0x214619(0x148)](_0x214619(0x115)) || _0x3753dd[_0x214619(0x164)][_0x214619(0x148)](_0x214619(0x12b))) { const _0x16f286 = new _0x5a1c76[(_0x214619(0x176))]({ 'map': _0x3753dd[_0x214619(0x170)][_0x214619(0x15a)], 'emissiveMap': _0x3753dd[_0x214619(0x170)][_0x214619(0x168)], 'metalnessMap': _0x3753dd[_0x214619(0x170)][_0x214619(0x159)], 'roughnessMap': _0x3753dd[_0x214619(0x170)][_0x214619(0x1a6)], 'envMap': enve }); _0x3753dd[_0x214619(0x170)] = _0x16f286; } else { if (_0x3753dd[_0x214619(0x164)][_0x214619(0x148)](_0x214619(0x138))) { const _0x562b82 = new _0x5a1c76[(_0x214619(0x105))]({ 'color': 0xffffff, 'map': _0x3753dd[_0x214619(0x170)][_0x214619(0x168)], 'transparent': !![], 'opacity': 0.3, 'envMap': enva, 'reflectivity': 0.7 }); _0x3753dd[_0x214619(0x170)] = _0x562b82; } else { if (_0x3753dd[_0x214619(0x164)][_0x214619(0x148)]('TV_ref')) _0x3753dd[_0x214619(0x196)] = ![]; else { if (_0x3753dd['name']['startsWith'](_0x214619(0x1a2))) AREA = _0x3753dd[_0x214619(0x166)], _0x3753dd[_0x214619(0x196)] = ![]; else { if (_0x3753dd[_0x214619(0x164)][_0x214619(0x148)](_0x214619(0x167))) _0x3753dd[_0x214619(0x196)] = ![], objects[_0x214619(0x19e)](_0x3753dd); else { const _0x4e930e = new _0x5a1c76['MeshBasicMaterial']({ 'color': 0xffffff, 'map': _0x3753dd[_0x214619(0x170)][_0x214619(0x168)] }); _0x3753dd[_0x214619(0x170)] = _0x4e930e; } } } } } } } } } } _0x3753dd[_0x214619(0x164)][_0x214619(0x197)](_0x214619(0x10a)) && objects[_0x214619(0x19e)](_0x3753dd); } } function onWindowResize() { var _0x5202b1 = _0x185f2b; camera[_0x5202b1(0x1a9)] = window['innerWidth'] / window[_0x5202b1(0x134)], camera[_0x5202b1(0x183)](), renderer[_0x5202b1(0x16b)](window[_0x5202b1(0x11b)], window['innerHeight']); } function render() { var _0x326991 = _0x185f2b; renderer['render'](scene, camera); movements['length'] > 0x0 && (scene[_0x326991(0x14b)]('indicator_top') === undefined ? drawIndicator() : indicatorTop[_0x326991(0x181)]['y'] > 0.4 * characterSize ? indicatorTop['position']['y'] -= 0.01 * characterSize : indicatorTop[_0x326991(0x181)]['y'] = 0.8 * characterSize, move(camera, movements[0x0])); stats[_0x326991(0x13a)](), TWEEN[_0x326991(0x13a)](); if (!isInMoving) controls[_0x326991(0x13a)](); } function initGui() { var _0x303c25 = _0x185f2b; gui = new GUI(), gui[_0x303c25(0x122)](settings, _0x303c25(0x12c))[_0x303c25(0x151)](0x0)[_0x303c25(0x10d)](0x1)[_0x303c25(0x185)](function (_0x5aa737) { var _0x5b9fed = _0x303c25; model[_0x5b9fed(0x146)](function (_0x11a053) { var _0x36fecb = _0x5b9fed; _0x11a053['isMesh'] && (_0x11a053['material'][_0x36fecb(0x12c)] = _0x5aa737); }); }), gui[_0x303c25(0x122)](settings, 'envMapIntensity')[_0x303c25(0x151)](0x0)[_0x303c25(0x10d)](0x1)[_0x303c25(0x185)](function (_0x430ead) { var _0x1ae8ec = _0x303c25; model[_0x1ae8ec(0x146)](function (_0x18dee3) { var _0x1c7da8 = _0x1ae8ec; _0x18dee3[_0x1c7da8(0x108)] && (_0x18dee3[_0x1c7da8(0x170)][_0x1c7da8(0x175)] = _0x430ead); }); }), gui[_0x303c25(0x122)](settings, 'metalness')['min'](0x0)[_0x303c25(0x10d)](0x1)[_0x303c25(0x185)](function (_0x4172c1) { var _0x548cf5 = _0x303c25; model[_0x548cf5(0x146)](function (_0x547ba5) { var _0x4e9fae = _0x548cf5; _0x547ba5['isMesh'] && (_0x547ba5[_0x4e9fae(0x170)][_0x4e9fae(0x10c)] = _0x4172c1); }); }), gui[_0x303c25(0x122)](settings, 'roughness')[_0x303c25(0x151)](0x0)[_0x303c25(0x10d)](0x1)[_0x303c25(0x185)](function (_0x3fd236) { model['traverse'](function (_0xa85d9) { var _0x4e8604 = _0x3bb1; _0xa85d9[_0x4e8604(0x108)] && (_0xa85d9['material'][_0x4e8604(0x1a4)] = _0x3fd236); }); }), gui[_0x303c25(0x122)](params, 'toneMapping')[_0x303c25(0x150)](Object[_0x303c25(0x18e)](toneMappingOptions))[_0x303c25(0x185)](function () { var _0x491ccb = _0x303c25; updateGUI(), renderer[_0x491ccb(0x154)] = toneMappingOptions[params[_0x491ccb(0x154)]], render(); }), updateGUI(); } function updateGUI() { var _0x2a3a71 = _0x185f2b; guiExposure !== null && (guiExposure[_0x2a3a71(0x102)](), guiExposure = null), params[_0x2a3a71(0x154)] !== _0x2a3a71(0x19c) && (guiExposure = gui['add'](params, _0x2a3a71(0x10b), 0x0, 0x2)['onChange'](function () { var _0x2db212 = _0x2a3a71; renderer[_0x2db212(0x112)] = params[_0x2db212(0x10b)], render(); })); } var characterSize = 0.16, objects = [], raycaster = new _0x5a1c76[(_0x185f2b(0x19d))](), mouse = new _0x5a1c76['Vector2'](), movements = [], playerSpeed = 0.02; function _0x2faf() { var _0x39575e = ['load', 'EquirectangularReflectionMapping', 'js/draco/gltf/', '4223355MwYtrs', 'position', '/d_hdr.jpg', 'updateProjectionMatrix', 'maxDistance', 'onChange', 'inMoveBtn', 'outputEncoding', 'navigator', 'tonemapping_pars_fragment', 'createImageBitmap', 'Mesh', '/a_hdr.jpg', 'left:2000px;', 'keys', 'getElementById', 'emissive', 'clientY', 'preventDefault', 'background', 'appendChild', 'platform', 'visible', 'includes', 'trunc', 'setDecoderPath', 'error', 'Color', 'None', 'Raycaster', 'push', 'CustomToneMapping', 'onUpdate', 'visibility:visible;', 'AREA_refle', '/PH', 'roughness', 'length', 'roughnessMap', 'lookAt', 'clientHeight', 'aspect', 'ACESFilmic', 'mouseup', 'setDRACOLoader', '7420805QNCWUz', 'AAA_mirror_B', 'rotateX', 'destroy', '/c_hdr.jpg', 'Fog', 'MeshBasicMaterial', 'sqrt', 'remove', 'isMesh', 'addEventListener', 'WWW', 'exposure', 'metalness', 'max', 'ShaderChunk', 'devicePixelRatio', 'test', 'shadowMap', 'toneMappingExposure', '1522063xtSyQu', 'total', 'AAA_model_blinds_A', 'enableDamping', 'MeshToonMaterial', 'movementY', 'rotateY', 'AAA_model_kitchenware', 'innerWidth', 'abs', 'loadingt', '441KkHNfs', 'log', 'TextureLoader', 'fog', 'add', 'loaded', 'scene', 'receiveShadow', 'setFromCamera', 'btnList', 'indicator_top', 'PlaneBufferGeometry', 'TetrahedronGeometry', 'AAA_model_MetalProduct', 'lightMapIntensity', 'mapping', 'touches', 'PlaneGeometry', 'quaternion', 'CineonToneMapping', 'display:block;', 'set', 'innerHeight', 'video', 'intersectObjects', 'display:none;', 'glass', 'clientWidth', 'update', 'FrontSide', 'enabled', 'maxPolarAngle', '/sky_hdr_1.jpg', '1262346AFsaFb', 'Vector3', 'webkitMovementY', 'loading', '1964902HttkoT', 'AAA_WWW_metal_01', 'setPixelRatio', 'traverse', 'AAA_model_Washingmachine', 'startsWith', 'Euler', 'VideoTexture', 'getObjectByName', 'scale', '/PC', 'sRGBEncoding', 'mozMovementX', 'options', 'min', 'PerspectiveCamera', 'object', 'toneMapping', 'Tween', '/e_hdr.jpg', 'MeshLambertMaterial', 'onclick', 'metalnessMap', 'map', 'RRR', 'clientX', 'match', 'mousedown', 'target', 'userAgent', 'AAA_mirror_a', 'movementX', 'start', 'name', 'setAnimationLoop', 'geometry', 'AREA', 'emissiveMap', 'setFromQuaternion', 'dynamic', 'setSize', 'Object3D', 'which', 'distanceTo', '10HwqGJn', 'material', 'rotation', 'models', 'style', 'mousemove', 'envMapIntensity', 'MeshStandardMaterial', 'domElement', 'replace', '529468ESUFik', 'onComplete', '495640qccqjp', 'touchstart']; _0x2faf = function () { return _0x39575e; }; return _0x2faf(); } initEvent(); function initEvent() { var _0x1d2d3f = _0x185f2b; document[_0x1d2d3f(0x109)](_0x1d2d3f(0x15e), onDocumentMouseDown), document[_0x1d2d3f(0x109)](_0x1d2d3f(0x1ab), onDocumentMouseUp), document['addEventListener'](_0x1d2d3f(0x174), onMouseMove), document[_0x1d2d3f(0x109)](_0x1d2d3f(0x17c), onDocumentTouchDown), document[_0x1d2d3f(0x109)]('touchmove', onDocumentTouchMove); } window['onresize'] = function () { var _0x3b8837 = _0x185f2b; camera[_0x3b8837(0x1a9)] = window['innerWidth'] / window[_0x3b8837(0x134)], camera[_0x3b8837(0x183)](), renderer[_0x3b8837(0x16b)](window[_0x3b8837(0x11b)], window[_0x3b8837(0x134)]); }; function onDocumentTouchDown(_0x2cc10d) { var _0x24d978 = _0x185f2b; _0x2cc10d[_0x24d978(0x192)](); if (!isInMoving) return; toucheMovementX = _0x2cc10d[_0x24d978(0x12e)][0x0]['clientX'], toucheMovementY = _0x2cc10d['touches'][0x0][_0x24d978(0x191)]; } var toucheMovementX, toucheMovementY; function onDocumentTouchMove(_0x5a4891) { var _0x2404fd = _0x185f2b; _0x5a4891[_0x2404fd(0x192)](); if (!isInMoving) return; _0x5a4891[_0x2404fd(0x162)] = 1.5 * (_0x5a4891['touches'][0x0]['clientX'] - toucheMovementX), _0x5a4891[_0x2404fd(0x118)] = 1.5 * (_0x5a4891[_0x2404fd(0x12e)][0x0][_0x2404fd(0x191)] - toucheMovementY), toucheMovementX = _0x5a4891[_0x2404fd(0x12e)][0x0][_0x2404fd(0x15c)], toucheMovementY = _0x5a4891['touches'][0x0][_0x2404fd(0x191)], onMouseMove(_0x5a4891, !![]); } var minPolarAngle = 0x0, maxPolarAngle = Math['PI'], pointerSpeed = 0x1; const _PI_2 = Math['PI'] / 0x2, _euler = new _0x5a1c76[(_0x185f2b(0x149))](0x0, 0x0, 0x0, 'YXZ'); function onMouseMove(_0x545c29, _0x585c91 = ![]) { var _0x2170cf = _0x185f2b; _0x545c29[_0x2170cf(0x192)](); if (!isClicked && !_0x585c91) return; const _0x543625 = _0x545c29['movementX'] || _0x545c29[_0x2170cf(0x14f)] || _0x545c29['webkitMovementX'] || 0x0, _0xb3494a = _0x545c29[_0x2170cf(0x118)] || _0x545c29['mozMovementY'] || _0x545c29[_0x2170cf(0x141)] || 0x0; _euler[_0x2170cf(0x169)](camera['quaternion']), _euler['y'] += _0x543625 * 0.002 * pointerSpeed, _euler['x'] += _0xb3494a * 0.002 * pointerSpeed, _euler['x'] = Math[_0x2170cf(0x10d)](_PI_2 - maxPolarAngle, Math[_0x2170cf(0x151)](_PI_2 - minPolarAngle, _euler['x'])), camera[_0x2170cf(0x130)]['setFromEuler'](_euler); } var clickPointX, clickPointY, isClicked = ![]; function onDocumentMouseDown(_0x189657, _0x8495e9 = ![]) { var _0x187311 = _0x185f2b; if (!isInMoving) return; if (!(_0x189657[_0x187311(0x15f)] instanceof HTMLCanvasElement)) { isClicked = ![]; return; } (_0x189657[_0x187311(0x16d)] == 0x1 || _0x8495e9) && (clickPointX = _0x189657[_0x187311(0x15c)], clickPointY = _0x189657[_0x187311(0x191)], isClicked = !![]); } function onDocumentMouseUp(_0x13cc9b, _0x252714 = ![]) { var _0x3921f9 = _0x185f2b; _0x13cc9b[_0x3921f9(0x192)](); if (!isInMoving) return; if (!(_0x13cc9b[_0x3921f9(0x15f)] instanceof HTMLCanvasElement)) { isClicked = ![]; return; } if (_0x13cc9b[_0x3921f9(0x16d)] == 0x1 || _0x252714) isClicked = ![]; if ((_0x13cc9b[_0x3921f9(0x16d)] == 0x1 || _0x252714) && clickPointX == _0x13cc9b[_0x3921f9(0x15c)] && clickPointY == _0x13cc9b[_0x3921f9(0x191)]) { stopMovement(), mouse['x'] = _0x13cc9b[_0x3921f9(0x15c)] / renderer[_0x3921f9(0x177)][_0x3921f9(0x139)] * 0x2 - 0x1, mouse['y'] = -(_0x13cc9b[_0x3921f9(0x191)] / renderer[_0x3921f9(0x177)][_0x3921f9(0x1a8)]) * 0x2 + 0x1, raycaster[_0x3921f9(0x126)](mouse, camera); var _0x1139d2 = raycaster[_0x3921f9(0x136)](objects); if (_0x1139d2[_0x3921f9(0x1a5)] > 0x0) { if (_0x1139d2[0x0][_0x3921f9(0x153)][_0x3921f9(0x164)] == _0x3921f9(0x167)) movements[_0x3921f9(0x19e)](_0x1139d2[0x0]['point']); } } } function move(_0x5894d0, _0x5b82a5, _0x1193fd = playerSpeed) { var _0x106c88 = _0x185f2b; if (!isInMoving) return; var _0x9e533 = _0x1193fd, _0x81b54e = _0x5894d0[_0x106c88(0x181)]['x'], _0x59d592 = _0x5894d0[_0x106c88(0x181)]['z'], _0x351312 = _0x5b82a5['x'], _0x2a2326 = _0x5b82a5['z'], _0x28c59c = 0x1, _0x1ec763 = 0x1, _0x4d4398 = Math['abs'](_0x81b54e - _0x351312), _0x58d534 = Math[_0x106c88(0x11c)](_0x59d592 - _0x2a2326), _0x502734 = Math[_0x106c88(0x106)](_0x4d4398 * _0x4d4398 + _0x58d534 * _0x58d534); _0x81b54e > _0x351312 && (_0x28c59c = -0x1), _0x59d592 > _0x2a2326 && (_0x1ec763 = -0x1), _0x5894d0[_0x106c88(0x181)]['x'] = _0x5894d0['position']['x'] + _0x9e533 * (_0x4d4398 / _0x502734) * _0x28c59c, _0x5894d0[_0x106c88(0x181)]['z'] = _0x5894d0[_0x106c88(0x181)]['z'] + _0x9e533 * (_0x58d534 / _0x502734) * _0x1ec763, _0x5894d0[_0x106c88(0x181)]['x'] <= _0x351312 + _0x9e533 && _0x5894d0['position']['x'] >= _0x351312 - _0x9e533 && (_0x5894d0[_0x106c88(0x181)]['z'] <= _0x2a2326 + _0x9e533 && _0x5894d0['position']['z'] >= _0x2a2326 - _0x9e533) && (_0x5894d0[_0x106c88(0x181)]['x'] = _0x5894d0[_0x106c88(0x181)]['x'], _0x5894d0[_0x106c88(0x181)]['z'] = _0x5894d0['position']['z'], stopMovement()); } function stopMovement() { var _0xbe3d58 = _0x185f2b; if (!isInMoving) return; movements = [], scene['remove'](indicatorTop), scene[_0xbe3d58(0x107)](indicatorBottom); } function createFloor() { var _0x19aabd = _0x185f2b, _0x3ee7ef = new _0x5a1c76[(_0x19aabd(0x129))](0x64, 0x64), _0x55a4e0 = new _0x5a1c76['MeshLambertMaterial']({ 'emissive': 0x6e6e6e }); _0x55a4e0[_0x19aabd(0x190)]['set'](0xe2e2e2); var _0x17dfbe = new _0x5a1c76[(_0x19aabd(0x18b))](_0x3ee7ef, _0x55a4e0); _0x17dfbe[_0x19aabd(0x171)]['x'] = -0x1 * Math['PI'] / 0x2, _0x17dfbe['position']['y'] = 0x0, scene[_0x19aabd(0x122)](_0x17dfbe), objects['push'](_0x17dfbe); } var indicatorTop, indicatorBottom; function drawIndicator() { var _0x16935d = _0x185f2b; if (!isInMoving) return; var _0xa86a82 = characterSize / 0x8, _0x1df962 = characterSize / 0x4, _0x309d96 = new _0x5a1c76[(_0x16935d(0x12a))](_0xa86a82, 0x0), _0x1ff9f3 = new _0x5a1c76[(_0x16935d(0x117))]({ 'color': 0xccff, 'emissive': 0xccff }); indicatorTop = new _0x5a1c76[(_0x16935d(0x18b))](_0x309d96, _0x1ff9f3), indicatorTop[_0x16935d(0x181)]['y'] = 0.05 * characterSize, indicatorTop['position']['x'] = movements[0x0]['x'], indicatorTop[_0x16935d(0x181)]['z'] = movements[0x0]['z'], indicatorTop[_0x16935d(0x171)]['x'] = -0.97, indicatorTop[_0x16935d(0x171)]['y'] = Math['PI'] / 0x4, indicatorTop[_0x16935d(0x164)] = _0x16935d(0x128), scene[_0x16935d(0x122)](indicatorTop); var _0x309d96 = new _0x5a1c76['TorusGeometry'](_0x1df962, _0x1df962 * 0.25, 0x2, 0xc); _0x309d96[_0x16935d(0x16a)] = !![]; var _0x1ff9f3 = new _0x5a1c76['MeshToonMaterial']({ 'color': 0xccff, 'emissive': 0xccff }); indicatorBottom = new _0x5a1c76[(_0x16935d(0x18b))](_0x309d96, _0x1ff9f3), indicatorBottom[_0x16935d(0x181)]['y'] = 0.025, indicatorBottom[_0x16935d(0x181)]['x'] = movements[0x0]['x'], indicatorBottom[_0x16935d(0x181)]['z'] = movements[0x0]['z'], indicatorBottom[_0x16935d(0x171)]['x'] = -Math['PI'] / 0x2, scene['add'](indicatorBottom); }