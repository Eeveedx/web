<!DOCTYPE html>
<html lang="en">

<head>
    <title>沙发</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link type="text/css" rel="stylesheet" href="main.css">
    <style>
        body {
            color: #444;
            background: #ffffff;
        }

        .label {
            color: #FFF;
            font-family: sans-serif;
            padding: 2px 8px 2px 8px;
            background: rgba(0, 0, 0, .6);
            /* display: none; */
        }
    </style>
</head>

<body>
<div id="container"></div>
<script type="module">
    const _0x439013 = _0x6333;
    (function (_0x30d99b, _0x48c282) {
        const _0x454079 = _0x6333, _0x399a1d = _0x30d99b();
        while (!![]) {
            try {
                const _0x2b7481 = parseInt(_0x454079(0xdd)) / 0x1 + -parseInt(_0x454079(0xee)) / 0x2 + parseInt(_0x454079(0xd2)) / 0x3 + -parseInt(_0x454079(0xe7)) / 0x4 * (-parseInt(_0x454079(0xf2)) / 0x5) + -parseInt(_0x454079(0x109)) / 0x6 + parseInt(_0x454079(0x124)) / 0x7 + parseInt(_0x454079(0xb9)) / 0x8;
                if (_0x2b7481 === _0x48c282) break; else _0x399a1d['push'](_0x399a1d['shift']());
            } catch (_0x38dd99) {
                _0x399a1d['push'](_0x399a1d['shift']());
            }
        }
    }(_0x38db, 0x372a7));
    import *as _0x161352 from './build/three.module.js';
    import {GLTFLoader} from './js/GLTFLoader.js';
    import {DRACOLoader} from './js/DRACOLoader.js';
    import {HorizontalBlurShader} from './js/shaders/HorizontalBlurShader.js';
    import {VerticalBlurShader} from './js/shaders/VerticalBlurShader.js';

    let camera, scene, renderer, texturemodel, model, ground, path, PLANE_WIDTH = 0x14, PLANE_HEIGHT = 0x14,
        CAMERA_HEIGHT = 0.3;
    const state = {
        'shadow': {'blur': 3.5, 'darkness': 0x1, 'opacity': 0x1},
        'plane': {'color': _0x439013(0xd1), 'opacity': 0x1},
        'showWireframe': ![]
    };
    let shadowGroup, renderTarget, renderTargetBlur, shadowCamera, cameraHelper, depthMaterial, horizontalBlurMaterial,
        verticalBlurMaterial, plane, blurPlane, openshadow = ![];
    fixiosTextureBlack();

    function fixiosTextureBlack() {
        const _0x4fd604 = _0x439013,
            _0x19d220 = /^(iPad|iPhone|iPod)/[_0x4fd604(0xb5)](window[_0x4fd604(0x100)][_0x4fd604(0xb7)]) || /^Mac/[_0x4fd604(0xb5)](window[_0x4fd604(0x100)][_0x4fd604(0xb7)]) && window[_0x4fd604(0x100)][_0x4fd604(0xb0)] > 0x1;
        _0x19d220 && (window[_0x4fd604(0x10d)] = undefined);
    }

    function _0x38db() {
        const _0x161d55 = ['setDecoderPath', 'clientX', 'name', 'js/draco/gltf/', 'length', 'mr_f_Pillow_1_1', '#ffffff', '419814dBUAaL', 'setAnimationLoop', 'devicePixelRatio', 'setClearAlpha', 'generateMipmaps', 'rotateX', 'set', 'userData', './textures/uncropped_thumbnail1.jpg', 'aoMapIntensity', 'domElement', '371630CBcoiu', 'load', 'Box3', 'point', 'emissiveMap', 'depthWrite', 'positiony:', 'models/shafa_1-processed-processed.glb', 'setFromCamera', 'getElementById', '4ILahxa', 'startModelPosX', 'mr_f_Pillow_1_2', 'receiveShadow', 'innerHeight', 'value', 'Mesh', '433888vNUAtq', 'depthTest', 'Scene', 'lookAt', '673150ndYHeE', 'Vector2', 'HemisphereLight', 'repeat', 'material', 'gl_FragColor\x20=\x20vec4(\x20vec3(\x201.0\x20-\x20fragCoordZ\x20),\x20opacity\x20);', 'button', 'castShadow', 'preventDefault', 'max', 'WebGLRenderTarget', 'tDiffuse', 'darkness', 'catch', 'navigator', 'transparent', 'render', 'sRGBEncoding', 'Raycaster', 'mr_f_Pillow_1_3', 'visible', 'getClearAlpha', 'renderOrder', '1824636wBhRzP', 'setSize', 'MeshDepthMaterial', 'layers', 'createImageBitmap', 'mousemove', 'min', 'scene', 'mouseup', 'addEventListener', 'intersectObject', 'BoxHelper', 'OrthographicCamera', 'blur', 'shadowMap', 'mr_f_Plaid_1', 'getSize', 'Group', 'container', 'setRenderTarget', 'rotation', 'ShaderMaterial', 'aoMap', 'add', 'Vector3', 'appendChild', 'startModelPosZ', '555275cUsTUr', '\x0a\x09\x09\x09\x09\x09\x09uniform\x20float\x20darkness;\x0a\x09\x09\x09\x09\x09\x09', 'maxTouchPoints', 'log', 'traverse', 'mousedown', 'enabled', 'test', 'Object3D', 'platform', 'clientY', '171888JmDJTA', 'background', 'texture', 'position', 'PerspectiveCamera', 'fragmentShader', 'innerWidth', 'scale', 'uniforms', 'shadow', 'overrideMaterial', 'map', 'MeshBasicMaterial', '\x0a\x09\x09\x09\x09\x09', 'encoding', 'CameraHelper', 'error', 'PlaneGeometry'];
        _0x38db = function () {
            return _0x161d55;
        };
        return _0x38db();
    }

    init()[_0x439013(0xff)](function (_0x5867b5) {
        console['error'](_0x5867b5);
    });

    function _0x6333(_0x5150da, _0x14b309) {
        const _0x38db59 = _0x38db();
        return _0x6333 = function (_0x633342, _0x258878) {
            _0x633342 = _0x633342 - 0xb0;
            let _0x7fca50 = _0x38db59[_0x633342];
            return _0x7fca50;
        }, _0x6333(_0x5150da, _0x14b309);
    }

    async function init() {
        const _0x320924 = _0x439013, _0x3c3a0d = document[_0x320924(0xe6)](_0x320924(0x11b));
        renderer = new _0x161352['WebGLRenderer']({'antialias': !![]}), renderer['setPixelRatio'](window[_0x320924(0xd4)]), renderer[_0x320924(0x10a)](window[_0x320924(0xbf)], window[_0x320924(0xeb)]), renderer[_0x320924(0xd3)](render);
        openshadow && (renderer[_0x320924(0x117)][_0x320924(0xb4)] = !![], renderer[_0x320924(0x117)]['type'] = _0x161352['PCFSoftShadowMap']);
        _0x3c3a0d[_0x320924(0x122)](renderer[_0x320924(0xdc)]), window[_0x320924(0x112)]('resize', onWindowResize), camera = new _0x161352[(_0x320924(0xbd))](0x28, window['innerWidth'] / window['innerHeight'], 0.04, 0x3c), camera[_0x320924(0xbc)][_0x320924(0xd8)](-0x0, 0.4, 2.5), camera[_0x320924(0x10c)]['enable'](0xa), scene = new _0x161352[(_0x320924(0xf0))]();
        const _0x5e6153 = new _0x161352[(_0x320924(0xf4))](0xffffff, 0x708090, 0x2);
        scene[_0x320924(0x120)](_0x5e6153);
        var _0x130056 = new _0x161352['PlaneGeometry'](0x1e, 0x1e);
        ground = new _0x161352[(_0x320924(0xed))](_0x130056, new _0x161352['MeshBasicMaterial']()), ground[_0x320924(0xf6)][_0x320924(0x101)] = !![], ground[_0x320924(0xf6)]['opacity'] = 0x0, ground[_0x320924(0xbc)][_0x320924(0xd8)](0x0, -0.003, 0x0), ground[_0x320924(0x11d)]['x'] = Math['PI'] * -0.5, scene['add'](ground);
        const _0x27e885 = new DRACOLoader();
        _0x27e885[_0x320924(0xcb)](_0x320924(0xce));
        const _0x367b3a = new GLTFLoader();
        _0x367b3a['setDRACOLoader'](_0x27e885), _0x367b3a[_0x320924(0xde)](_0x320924(0xe4), function (_0x2c9e47) {
            const _0x54a9c9 = _0x320924;
            model = _0x2c9e47[_0x54a9c9(0x110)], model[_0x54a9c9(0xb2)](function (_0x4c2017) {
                const _0x56bf81 = _0x54a9c9;
                if (_0x4c2017['isMesh']) {
                    _0x4c2017[_0x56bf81(0xf6)][_0x56bf81(0xc4)][_0x56bf81(0xc7)] = _0x161352[_0x56bf81(0x103)], _0x4c2017[_0x56bf81(0xf6)]['emissive'] = 0x0, _0x4c2017[_0x56bf81(0xf6)][_0x56bf81(0x11f)] = _0x4c2017['material'][_0x56bf81(0xe1)], _0x4c2017[_0x56bf81(0xf6)][_0x56bf81(0xdb)] = 0.5;
                    if (_0x4c2017['name'] == _0x56bf81(0xd0) || _0x4c2017['name'] == _0x56bf81(0xe9) || _0x4c2017['name'] == _0x56bf81(0x105) || _0x4c2017[_0x56bf81(0xcd)] == _0x56bf81(0x118)) {
                    } else _0x4c2017[_0x56bf81(0xf6)][_0x56bf81(0xc4)][_0x56bf81(0xf5)][_0x56bf81(0xd8)](0x3, 0x3);
                    openshadow && (_0x4c2017[_0x56bf81(0xf9)] = !![], _0x4c2017[_0x56bf81(0xea)] = !![]);
                }
            });
            var _0x231151 = new _0x161352[(_0x54a9c9(0xdf))](), _0x108089 = new _0x161352[(_0x54a9c9(0x121))](),
                _0x32ee4e = new _0x161352[(_0x54a9c9(0x114))](model);
            _0x231151['setFromObject'](_0x32ee4e), console[_0x54a9c9(0xb1)](_0x231151), _0x231151[_0x54a9c9(0x119)](_0x108089), console[_0x54a9c9(0xb1)](_0x108089);
            var _0x40a2ef = new _0x161352[(_0x54a9c9(0xb6))]();
            _0x40a2ef[_0x54a9c9(0x120)](model);
            var _0x129eff = 0.42,
                _0xc2c522 = _0x129eff / Math[_0x54a9c9(0xfb)](_0x108089['x'], _0x108089['y'], _0x108089['z']);
            model[_0x54a9c9(0xc0)][_0x54a9c9(0xd8)](_0xc2c522, _0xc2c522, _0xc2c522), console[_0x54a9c9(0xb1)]('parent.scale:' + _0x40a2ef[_0x54a9c9(0xc0)]['x']);
            var _0x408ebc = 0.4 * _0x108089['y'] * _0xc2c522;
            console[_0x54a9c9(0xb1)](_0x54a9c9(0xe3) + _0x408ebc), model[_0x54a9c9(0xbc)]['set'](0x0, _0xc2c522 * (_0x108089['y'] * 0.5 - 0.036), 1.5), scene['add'](_0x40a2ef), camera[_0x54a9c9(0xf1)](0x0, 0x0, 0x0);
            const _0x20cab2 = new _0x161352[(_0x54a9c9(0xca))](0x12c, 0xc8),
                _0xc20689 = new _0x161352['TextureLoader'](), _0x3cb114 = _0xc20689['load'](_0x54a9c9(0xda)),
                _0x1ad265 = new _0x161352['MeshBasicMaterial']({'map': _0x3cb114}),
                _0x708aaf = new _0x161352['Mesh'](_0x20cab2, _0x1ad265);
            _0x708aaf[_0x54a9c9(0xc0)]['set'](0.01, 0.01, 0.01), scene[_0x54a9c9(0x120)](_0x708aaf), _0x708aaf[_0x54a9c9(0xf1)](camera[_0x54a9c9(0xbc)]['x'], camera[_0x54a9c9(0xbc)]['y'], camera[_0x54a9c9(0xbc)]['z']), PLANE_WIDTH = (_0x231151[_0x54a9c9(0xfb)]['x'] - _0x231151[_0x54a9c9(0x10f)]['x']) * 0x2 * _0xc2c522, PLANE_HEIGHT = (_0x231151[_0x54a9c9(0xfb)]['z'] - _0x231151[_0x54a9c9(0x10f)]['z']) * 0x2 * _0xc2c522, CAMERA_HEIGHT = _0x231151[_0x54a9c9(0xfb)]['y'] * 0x2 * _0xc2c522, shadowGroup = new _0x161352[(_0x54a9c9(0x11a))](), scene[_0x54a9c9(0x120)](shadowGroup), shadowCamera = new _0x161352['OrthographicCamera'](-PLANE_WIDTH / 0x2, PLANE_WIDTH / 0x2, PLANE_HEIGHT / 0x2, -PLANE_HEIGHT / 0x2, 0x0, CAMERA_HEIGHT), shadowCamera[_0x54a9c9(0x11d)]['x'] = Math['PI'] * 0.5, cameraHelper = new _0x161352[(_0x54a9c9(0xc8))](shadowCamera), renderTarget = new _0x161352[(_0x54a9c9(0xfc))](0x200, 0x200), renderTarget[_0x54a9c9(0xbb)]['generateMipmaps'] = ![], renderTargetBlur = new _0x161352[(_0x54a9c9(0xfc))](0x200, 0x200), renderTargetBlur[_0x54a9c9(0xbb)][_0x54a9c9(0xd6)] = ![];
            const _0x42f4f6 = new _0x161352[(_0x54a9c9(0xca))](PLANE_WIDTH, PLANE_HEIGHT)[_0x54a9c9(0xd7)](Math['PI'] / 0x2),
                _0x12de49 = new _0x161352[(_0x54a9c9(0xc5))]({
                    'map': renderTarget[_0x54a9c9(0xbb)],
                    'transparent': !![],
                    'opacity': 0.4,
                    'depthWrite': ![]
                });
            plane = new _0x161352[(_0x54a9c9(0xed))](_0x42f4f6, _0x12de49), plane[_0x54a9c9(0x108)] = 0x1, plane[_0x54a9c9(0xbc)]['y'] = 0.001, shadowGroup[_0x54a9c9(0x120)](plane), plane[_0x54a9c9(0xc0)]['y'] = -0x1, blurPlane = new _0x161352[(_0x54a9c9(0xed))](_0x42f4f6), blurPlane[_0x54a9c9(0x106)] = ![], shadowGroup[_0x54a9c9(0x120)](blurPlane), shadowCamera = new _0x161352[(_0x54a9c9(0x115))](-PLANE_WIDTH / 0x2, PLANE_WIDTH / 0x2, PLANE_HEIGHT / 0x2, -PLANE_HEIGHT / 0x2, 0x0, CAMERA_HEIGHT), shadowCamera[_0x54a9c9(0x11d)]['x'] = Math['PI'] / 0x2, shadowGroup[_0x54a9c9(0x120)](shadowCamera), depthMaterial = new _0x161352[(_0x54a9c9(0x10b))](), depthMaterial['userData']['darkness'] = {'value': state[_0x54a9c9(0xc2)]['darkness']}, depthMaterial['onBeforeCompile'] = function (_0x15783b) {
                const _0x1b9632 = _0x54a9c9;
                _0x15783b[_0x1b9632(0xc1)][_0x1b9632(0xfe)] = depthMaterial[_0x1b9632(0xd9)][_0x1b9632(0xfe)], _0x15783b[_0x1b9632(0xbe)] = _0x1b9632(0x125) + _0x15783b['fragmentShader']['replace'](_0x1b9632(0xf7), 'gl_FragColor\x20=\x20vec4(\x20vec3(\x200.0\x20),\x20(\x201.0\x20-\x20fragCoordZ\x20)\x20*\x20darkness\x20);') + _0x1b9632(0xc6);
            }, depthMaterial[_0x54a9c9(0xef)] = ![], depthMaterial[_0x54a9c9(0xe2)] = ![], horizontalBlurMaterial = new _0x161352['ShaderMaterial'](HorizontalBlurShader), horizontalBlurMaterial[_0x54a9c9(0xef)] = ![], verticalBlurMaterial = new _0x161352[(_0x54a9c9(0x11e))](VerticalBlurShader), verticalBlurMaterial[_0x54a9c9(0xef)] = ![], shadowGroup['position']['set'](model[_0x54a9c9(0xbc)]['x'], 0x0, model[_0x54a9c9(0xbc)]['z']);
        }, undefined, function (_0x3d3084) {
            const _0xa6f796 = _0x320924;
            console[_0xa6f796(0xc9)](_0x3d3084);
        });
    }

    function onWindowResize() {
        const _0x20366a = _0x439013;
        camera['aspect'] = window[_0x20366a(0xbf)] / window[_0x20366a(0xeb)], camera['updateProjectionMatrix'](), renderer[_0x20366a(0x10a)](window[_0x20366a(0xbf)], window['innerHeight']);
    }

    function render() {
        const _0x58bfa2 = _0x439013;
        if (cameraHelper != null) {
            const _0x3a0af4 = scene[_0x58bfa2(0xba)];
            scene[_0x58bfa2(0xba)] = null, cameraHelper[_0x58bfa2(0x106)] = ![], scene[_0x58bfa2(0xc3)] = depthMaterial;
            const _0x1d006c = renderer[_0x58bfa2(0x107)]();
            renderer['setClearAlpha'](0x0), renderer['setRenderTarget'](renderTarget), renderer[_0x58bfa2(0x102)](scene, shadowCamera), scene[_0x58bfa2(0xc3)] = null, cameraHelper[_0x58bfa2(0x106)] = !![], blurShadow(state[_0x58bfa2(0xc2)][_0x58bfa2(0x116)]), blurShadow(state[_0x58bfa2(0xc2)][_0x58bfa2(0x116)] * 0.4), renderer[_0x58bfa2(0x11c)](null), renderer[_0x58bfa2(0xd5)](_0x1d006c), scene[_0x58bfa2(0xba)] = _0x3a0af4;
        }
        renderer['render'](scene, camera);
    }

    function blurShadow(_0x4e464a) {
        const _0x406c3f = _0x439013;
        blurPlane[_0x406c3f(0x106)] = !![], blurPlane[_0x406c3f(0xf6)] = horizontalBlurMaterial, blurPlane['material'][_0x406c3f(0xc1)][_0x406c3f(0xfd)]['value'] = renderTarget[_0x406c3f(0xbb)], horizontalBlurMaterial['uniforms']['h'][_0x406c3f(0xec)] = _0x4e464a * 0x1 / 0x100, renderer['setRenderTarget'](renderTargetBlur), renderer[_0x406c3f(0x102)](blurPlane, shadowCamera), blurPlane['material'] = verticalBlurMaterial, blurPlane[_0x406c3f(0xf6)][_0x406c3f(0xc1)][_0x406c3f(0xfd)]['value'] = renderTargetBlur[_0x406c3f(0xbb)], verticalBlurMaterial['uniforms']['v']['value'] = _0x4e464a * 0x1 / 0x100, renderer[_0x406c3f(0x11c)](renderTarget), renderer['render'](blurPlane, shadowCamera), blurPlane[_0x406c3f(0x106)] = ![];
    }

    const raycaster = new _0x161352[(_0x439013(0x104))](), mouse = new _0x161352[(_0x439013(0xf3))]();
    let mouseDown = ![], startModelPosX, startModelPosZ, rightMouseDown = ![], lastMouseX = 0x0;
    document[_0x439013(0x112)](_0x439013(0xb3), _0x4a4d71 => {
        const _0x1f0bcc = _0x439013;
        mouse['x'] = _0x4a4d71[_0x1f0bcc(0xcc)] / window[_0x1f0bcc(0xbf)] * 0x2 - 0x1, mouse['y'] = -(_0x4a4d71[_0x1f0bcc(0xb8)] / window[_0x1f0bcc(0xeb)]) * 0x2 + 0x1;
        if (_0x4a4d71[_0x1f0bcc(0xf8)] === 0x2) {
            rightMouseDown = !![], lastMouseX = _0x4a4d71[_0x1f0bcc(0xcc)], _0x4a4d71[_0x1f0bcc(0xfa)]();
            return;
        }
        raycaster[_0x1f0bcc(0xe5)](mouse, camera);
        const _0x4b8131 = raycaster[_0x1f0bcc(0x113)](model);
        if (_0x4b8131['length'] > 0x0) {
            console[_0x1f0bcc(0xb1)](_0x4b8131);
            const _0x18a230 = raycaster[_0x1f0bcc(0x113)](ground);
            if (_0x18a230['length'] > 0x0) {
                const {x: _0x40b16d, z: _0x4bcb74} = _0x18a230[0x0]['point'];
                startModelPosX = model[_0x1f0bcc(0xbc)]['x'] - _0x40b16d, startModelPosZ = model[_0x1f0bcc(0xbc)]['z'] - _0x4bcb74, console[_0x1f0bcc(0xb1)](_0x1f0bcc(0xe8), startModelPosX, _0x1f0bcc(0x123), startModelPosZ);
            }
            mouseDown = !![];
        }
    }), document[_0x439013(0x112)](_0x439013(0x111), _0x1fdfc4 => {
        const _0x33aef8 = _0x439013;
        _0x1fdfc4[_0x33aef8(0xf8)] === 0x2 && (rightMouseDown = ![]), mouseDown = ![];
    }), document['addEventListener'](_0x439013(0x10e), _0x5f4872 => {
        const _0x19f07b = _0x439013;
        mouse['x'] = _0x5f4872[_0x19f07b(0xcc)] / window[_0x19f07b(0xbf)] * 0x2 - 0x1, mouse['y'] = -(_0x5f4872['clientY'] / window[_0x19f07b(0xeb)]) * 0x2 + 0x1;
        if (rightMouseDown) {
            const _0x2dabf2 = _0x5f4872[_0x19f07b(0xcc)] - lastMouseX, _0x370b41 = 0.01;
            model[_0x19f07b(0x11d)]['y'] += _0x2dabf2 * _0x370b41, lastMouseX = _0x5f4872[_0x19f07b(0xcc)];
            return;
        }
        if (mouseDown) {
            raycaster[_0x19f07b(0xe5)](mouse, camera);
            const _0x129a2b = raycaster['intersectObject'](ground);
            if (_0x129a2b[_0x19f07b(0xcf)] > 0x0) {
                let {x: _0x20b1f9, z: _0x26d2c8} = _0x129a2b[0x0][_0x19f07b(0xe0)];
                _0x26d2c8 + startModelPosZ < 1.52 && (_0x26d2c8 = 1.52 - startModelPosZ), model[_0x19f07b(0xbc)][_0x19f07b(0xd8)](_0x20b1f9 + startModelPosX, model['position']['y'], _0x26d2c8 + startModelPosZ), shadowGroup['position']['set'](_0x20b1f9 + startModelPosX, 0x0, _0x26d2c8 + startModelPosZ);
            }
        }
    }), document[_0x439013(0x112)]('contextmenu', function (_0x1de124) {
        const _0x193a60 = _0x439013;
        _0x1de124[_0x193a60(0xfa)]();
    }, ![]);</script>
</body>

</html>